/**
 * EMS(IMP) v0.2.4
 * Easy Module System: 简洁、易用的模块系统
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/ems
 *
 *
 * ***********************< EMS >************************
 *
 * ems 全称为 "Easy Module System" 他还有一个别名叫: "imp";
 * ems 作为 "EMD" 的实现标准范本; 完全符合 "EMD规范";
 *
 *
 * *********************< EMD 规范 >**********************
 *
 * EMD 全称为 "Easy Module Definition"
 *
 * 规范定义:
 * define([deps...<require>,<exports>,<module>]function(... <require>,<exports>,<module>){
 *
 * 	    //动态导入依赖 (AMD)
 * 		require([deps...],function(...){
 *
 * 		});
 *
 * 		//标准导出 (AMD)
 * 		return {
 * 			say:function(){}
 * 		};
 *
 *      //类CommonJS导入 (CommonJS)
 *      var a=require('a');
 *
 *      //类CommonJS导出 (CommonJS)
 *      exports.say=function(){};
 * });
 *
 *
 * ******************************************************
 *
 */
this.ems=this.imp={};(function(b){var l=function(u,t){if(!u||!t){return;}if((u instanceof Array)||(u.length&&u[0])){var v=u.length;for(var s=0;s<v;s++){if(u[s]){var r=t.call(u[s],s);
if(r){break;}}}}else{for(var s in u){if(u[s]){var r=t.call(u[s],s);if(r){break;}}}}};var a=function(r){var s=document.createElement("script");s.src=r;s.async=true;
s.defer=true;s.type="text/javascript";return s;};var o=function(s){var r=document.createElement("link");r.href=s;r.type="text/css";r.rel="stylesheet";return r;
};var c=null;var f=function(r){if(!c){c=document.getElementsByTagName("head");c=c?c[0]:document.body;}c.appendChild(r);};var k=function(s,r,t){if(s.addEventListener){s.addEventListener(r,t);
}else{if(s.attachEvent){s.attachEvent("on"+r,t);}}};var m=function(r,t){if(!r||!t){return;}var s=r.attachEvent?"readystatechange":"load";k(r,s,function(){var u=r.readyState||"loaded";
if(u=="loaded"||u=="interactive"||u=="complete"){t.apply(r,arguments);}});};var h={require:{loaded:true,exports:"require"},exports:{loaded:true,exports:"exports"},module:{loaded:true,exports:"module"}};
b.moduleTable=h;var j=function(r,s){if(h[r]==null){h[r]=new i(r);}if(h[r].loaded&&s){s(h[r].exports);return h[r].exports;}if(h[r].loadCallbacks!=null){h[r].loadCallbacks.push(s);
return;}h[r].loadCallbacks=[];h[r].loadCallbacks.push(s);h[r].element=r.indexOf(".css")>0?o(r):a(r);m(h[r].element,function(){var t=p.shift()||{};h[r].deps=t.moduleDeps;
h[r].declare=t.moduleDeclare;t=null;h[r].require(h[r].deps,function(){if(h[r].declare){var v=[];for(var w=0;w<arguments.length;w++){if(arguments[w]=="require"){arguments[w]=h[r].require;
}if(arguments[w]=="exports"){arguments[w]=h[r].exports;}if(arguments[w]=="module"){arguments[w]=h[r];}v.push(arguments[w]);}var u=h[r].declare.apply(h[r],v);
h[r].exports=u||h[r].exports;}l(h[r].loadCallbacks,function(){this(h[r].exports);});h[r].loaded=true;h[r].loadCallbacks=null;});});f(h[r].element);};b.load=function(s,u){if((typeof s)=="string"){s=[s];
}var t=window||{};var r=0;if(s&&s.length>0){l(s,function(){j(this,function(){r+=1;if(r>=s.length){if(u){t=d(s);u.apply(t,t);}}});});}else{u.apply(t,t);
}return t;};var d=function(r){var s=[];l(r,function(){if(h[this]){s.push(h[this].exports);}});return s;};b.config=function(r){r=r||{};r.alias=r.alias||{};
l(r.alias,function(s){e[s]=this;});};var e={};var n=function(s,u){if(s.indexOf("http://")==0||s.indexOf("https://")==0||s.indexOf("/")==0||s=="require"||s=="exports"||s=="module"){return s;
}var r=s.split("/");var t=u.substring(0,u.lastIndexOf("/")).split("/");l(r,function(){if(this==".."){t.pop();}else{if(this=="."){}else{t.push(this);}}});
return t.join("/");};var q=function(t,s){if((typeof t)=="string"){t=[t];}var r=[];l(t,function(){var u=e[this]||this;r.push(n(u,s));});return r;};var i=function(r){var r=this.uri=this.id=r||"/";
this.resovleUri=function(s){return n(s,r);};this.require=function(u,v){var t=q(u,r);var s=b.load(t,v);return s&&s.length==1?s[0]:s;};this.exports={};this.declare=null;
this.deps=null;this.loaded=false;};var p=[];b.define=function(u,t,r){var s=null;if(t&&r){s={moduleDeps:t,moduleDeclare:r};}else{if(u&&t){s={moduleDeps:u,moduleDeclare:t};
}else{if(u&&r){s={moduleDeps:t,moduleDeclare:r};}else{if(u){s={moduleDeclare:u};}}}}if(s){if(typeof s.moduleDeclare!="function"){var v=s.moduleDeclare;
s.moduleDeclare=function(){return v;};}p.push(s);}};b.define.amd=b.define.emd=b.define.eamd={};var g=function(){var r=document.getElementsByTagName("script");
var s="";l(r,function(){var t=this.getAttribute("data-main");if(t){s=t;return true;}});return s;};if(window){window.define=b.define;}b.load([g()]);})(this.ems);
