/**
 * EMS(IMP) v0.2.9
 * Easy Module System: 简洁、易用的模块系统
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/ems
 *
 * ***********************< EMS >************************
 *
 * ems 全称为 "Easy Module System" 他还有一个别名叫: "imp";
 * ems 作为 "EMD" 的实现标准范本; 完全符合 "EMD规范";
 *
 * *********************< EMD 规范 >**********************
 *
 * EMD 全称为 "Easy Module Definition"
 *
 * 规范定义:
 * define([deps...<require>,<exports>,<module>]function(... <require>,<exports>,<module>){
 *
 * 	    //动态导入依赖 (AMD)
 * 		require([deps...],function(...){
 *
 * 		});
 *
 * 		//标准导出 (AMD)
 * 		return {
 * 			say:function(){}
 * 		};
 *
 *      //类CommonJS导入 (CommonJS)
 *      var a=require('a');
 *
 *      //类CommonJS导出 (CommonJS)
 *      exports.say=function(){};
 * });
 *
 * ******************************************************
 */
this.ems=this.imp={};(function(a){var d=function(B,A){if(!B||!A){return;}if((B instanceof Array)||(B.length&&B[0])){var C=B.length;for(var z=0;z<C;z++){if(B[z]){var y=A.call(B[z],z);
if(y){break;}}}}else{for(var z in B){if(B[z]){var y=A.call(B[z],z);if(y){break;}}}}};var u=function(y){var z=document.createElement("script");z.src=y;z.async=true;
z.defer=true;z.type="text/javascript";return z;};var c=function(z){var y=document.createElement("link");y.href=z;y.type="text/css";y.rel="stylesheet";return y;
};var f=function(){return document.getElementsByTagName("script");};var r=function(){var y=f();var z="";d(y,function(){var A=this.getAttribute("data-main");
if(A){z=A;return true;}});return z;};var v=function(){var y=f();var z=null;d(y,function(){if(this.readyState==="interactive"){z=this;return z;}});return z;
};var g=null;var p=function(y){if(!g){g=document.getElementsByTagName("head");g=g&&g[0]?g[0]:document.body;g=g||g.parent;}g.appendChild(y);};var e=function(z,y,A){if(z.addEventListener){z.addEventListener(y,A);
}else{if(z.attachEvent){z.attachEvent("on"+y,A);}}};var l=function(y,A){if(!y||!A){return;}var z=y.attachEvent?"readystatechange":"load";e(y,z,function(){var B=y.readyState||"loaded";
if(B=="loaded"||B=="interactive"||B=="complete"){A.apply(y,arguments);}});};var j={require:{loaded:true,exports:"require"},exports:{loaded:true,exports:"exports"},module:{loaded:true,exports:"module"}};
a.moduleTable=j;var b=function(z,y){if(!j[z]){return;}j[z].loading=true;j[z].deps=y.moduleDeps;j[z].declare=y.moduleDeclare;y=null;j[z].require(j[z].deps,function(){if(j[z].declare){var B=[];
for(var C=0;C<arguments.length;C++){if(arguments[C]=="require"){arguments[C]=j[z].require;}if(arguments[C]=="exports"){arguments[C]=j[z].exports;}if(arguments[C]=="module"){arguments[C]=j[z];
}B.push(arguments[C]);}var A=j[z].declare.apply(j[z],B);j[z].exports=A||j[z].exports;}d(j[z].loadCallbacks,function(){this(j[z].exports);});j[z].loaded=true;
j[z].loadCallbacks=null;});};var w=function(y,z){if(j[y]==null){j[y]=new o(y);}if(j[y].loaded&&z){z(j[y].exports);return j[y].exports;}if(j[y].loadCallbacks!=null){j[y].loadCallbacks.push(z);
return;}j[y].loadCallbacks=[];j[y].loadCallbacks.push(z);j[y].element=y.indexOf(".css")>0?c(y):u(y);l(j[y].element,function(){if(!j[y].loaded&&!j[y].loading){var A=n.shift()||{};
b(y,A);}});p(j[y].element);};a.load=function(C,D,B){var z=i(C,B);var A=window||{};var y=0;if(z&&z.length>0){d(z,function(){w(this,function(){y+=1;if(y>=z.length){if(D){A=x(z);
D.apply(A,A);}}});});}else{D.apply(A,A);}return A;};var x=function(y){var z=[];d(y,function(){if(j[this]){z.push(j[this].exports);}});return z;};var k=function(y){return(y=="require"||y=="exports"||y=="module");
};var h=function(A,C){if(A.indexOf("http://")==0||A.indexOf("https://")==0||A.indexOf("/")==0||k(A)){return A;}var y=A.split("/");var z=C.substring(0,C.lastIndexOf("/"));
var B=z.length>0?z.split("/"):[];d(y,function(){if(this==".."){B.pop();}else{if(this=="."){}else{B.push(this);}}});return B.join("/");};var s=function(y){if(k(y)){return y;
}var z=y.substring(y.lastIndexOf("/"),y.length);if(z.indexOf("?")<0&&z.indexOf("#")<0&&z.indexOf(".")<0){y+=(m||".js");}return y;};var i=function(A,z){if((typeof A)=="string"){A=[A];
}var y=[];d(A,function(){var B=q[this]||this;B=s(B);if(z){B=h(B,z);}y.push(B);});return y;};var o=function(y){var y=this.uri=this.id=y||"/";this.resovleUri=function(z){return h(z,y);
};this.require=function(A,B){var z=a.load(A,B,y);return z&&z.length==1?z[0]:z;};this.exports={};this.declare=null;this.deps=null;this.loaded=false;};var n=[];
a.define=function(D,C,z){var A=null;if(C&&z){A={moduleDeps:C,moduleDeclare:z};}else{if(D&&C){A={moduleDeps:D,moduleDeclare:C};}else{if(D&&z){A={moduleDeps:C,moduleDeclare:z};
}else{if(D){A={moduleDeclare:D};}}}}if(A){if(typeof A.moduleDeclare!="function"){var E=A.moduleDeclare;A.moduleDeclare=function(){return E;};}var y=v();
if(y){var B=y.getAttribute("src");b(B,A);}else{n.push(A);}}};a.config=function(y){y=y||{};y.alias=y.alias||{};d(y.alias,function(z){q[z]=this;});m=m||y.extension;
};var q={};var m=".js";a.define.amd=a.define.emd=a.define.eamd={};if(window){window.define=a.define;}var t=h(r(),location.href);a.load(t);})(this.ems);
