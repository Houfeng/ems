/**
 * EMS(IMP) v0.2.6
 * Easy Module System: 简洁、易用的模块系统
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/ems
 *
 * ***********************< EMS >************************
 *
 * ems 全称为 "Easy Module System" 他还有一个别名叫: "imp";
 * ems 作为 "EMD" 的实现标准范本; 完全符合 "EMD规范";
 *
 * *********************< EMD 规范 >**********************
 *
 * EMD 全称为 "Easy Module Definition"
 *
 * 规范定义:
 * define([deps...<require>,<exports>,<module>]function(... <require>,<exports>,<module>){
 *
 * 	    //动态导入依赖 (AMD)
 * 		require([deps...],function(...){
 *
 * 		});
 *
 * 		//标准导出 (AMD)
 * 		return {
 * 			say:function(){}
 * 		};
 *
 *      //类CommonJS导入 (CommonJS)
 *      var a=require('a');
 *
 *      //类CommonJS导出 (CommonJS)
 *      exports.say=function(){};
 * });
 *
 * ******************************************************
 */
this.ems=this.imp={};(function(a){var d=function(x,w){if(!x||!w){return;}if((x instanceof Array)||(x.length&&x[0])){var y=x.length;for(var v=0;v<y;v++){if(x[v]){var u=w.call(x[v],v);
if(u){break;}}}}else{for(var v in x){if(x[v]){var u=w.call(x[v],v);if(u){break;}}}}};var q=function(u){var v=document.createElement("script");v.src=u;v.async=true;
v.defer=true;v.type="text/javascript";return v;};var c=function(v){var u=document.createElement("link");u.href=v;u.type="text/css";u.rel="stylesheet";return u;
};var f=function(){return document.getElementsByTagName("script");};var o=function(){var u=f();var v="";d(u,function(){var w=this.getAttribute("data-main");
if(w){v=w;return true;}});return v;};var r=function(){var u=f();var v=null;d(u,function(){if(this.readyState==="interactive"){v=this;return v;}});return v;
};var g=null;var n=function(u){if(!g){g=document.getElementsByTagName("head");g=g&&g[0]?g[0]:document.body;g=g||g.parent;}g.appendChild(u);};var e=function(v,u,w){if(v.addEventListener){v.addEventListener(u,w);
}else{if(v.attachEvent){v.attachEvent("on"+u,w);}}};var k=function(u,w){if(!u||!w){return;}var v=u.attachEvent?"readystatechange":"load";e(u,v,function(){var x=u.readyState||"loaded";
if(x=="loaded"||x=="interactive"||x=="complete"){w.apply(u,arguments);}});};var j={require:{loaded:true,exports:"require"},exports:{loaded:true,exports:"exports"},module:{loaded:true,exports:"module"}};
a.moduleTable=j;var b=function(v,u){if(!j[v]){return;}j[v].loading=true;j[v].deps=u.moduleDeps;j[v].declare=u.moduleDeclare;u=null;j[v].require(j[v].deps,function(){if(j[v].declare){var x=[];
for(var y=0;y<arguments.length;y++){if(arguments[y]=="require"){arguments[y]=j[v].require;}if(arguments[y]=="exports"){arguments[y]=j[v].exports;}if(arguments[y]=="module"){arguments[y]=j[v];
}x.push(arguments[y]);}var w=j[v].declare.apply(j[v],x);j[v].exports=w||j[v].exports;}d(j[v].loadCallbacks,function(){this(j[v].exports);});j[v].loaded=true;
j[v].loadCallbacks=null;});};var s=function(u,v){if(j[u]==null){j[u]=new m(u);}if(j[u].loaded&&v){v(j[u].exports);return j[u].exports;}if(j[u].loadCallbacks!=null){j[u].loadCallbacks.push(v);
return;}j[u].loadCallbacks=[];j[u].loadCallbacks.push(v);j[u].element=u.indexOf(".css")>0?c(u):q(u);k(j[u].element,function(){if(!j[u].loaded&&!j[u].loading){var w=l.shift()||{};
b(u,w);}});n(j[u].element);};a.load=function(v,x){if((typeof v)=="string"){v=[v];}var w=window||{};var u=0;if(v&&v.length>0){d(v,function(){s(this,function(){u+=1;
if(u>=v.length){if(x){w=t(v);x.apply(w,w);}}});});}else{x.apply(w,w);}return w;};var t=function(u){var v=[];d(u,function(){if(j[this]){v.push(j[this].exports);
}});return v;};a.config=function(u){u=u||{};u.alias=u.alias||{};d(u.alias,function(v){p[v]=this;});};var p={};var h=function(v,x){if(v.indexOf("http://")==0||v.indexOf("https://")==0||v.indexOf("/")==0||v=="require"||v=="exports"||v=="module"){return v;
}var u=v.split("/");var w=x.substring(0,x.lastIndexOf("/")).split("/");d(u,function(){if(this==".."){w.pop();}else{if(this=="."){}else{w.push(this);}}});
return w.join("/");};var i=function(w,v){if((typeof w)=="string"){w=[w];}var u=[];d(w,function(){var x=p[this]||this;u.push(h(x,v));});return u;};var m=function(u){var u=this.uri=this.id=u||"/";
this.resovleUri=function(v){return h(v,u);};this.require=function(x,y){var w=i(x,u);var v=a.load(w,y);return v&&v.length==1?v[0]:v;};this.exports={};this.declare=null;
this.deps=null;this.loaded=false;};var l=[];a.define=function(z,y,v){var w=null;if(y&&v){w={moduleDeps:y,moduleDeclare:v};}else{if(z&&y){w={moduleDeps:z,moduleDeclare:y};
}else{if(z&&v){w={moduleDeps:y,moduleDeclare:v};}else{if(z){w={moduleDeclare:z};}}}}if(w){if(typeof w.moduleDeclare!="function"){var A=w.moduleDeclare;
w.moduleDeclare=function(){return A;};}var u=r();if(u){var x=u.getAttribute("src");b(x,w);}else{l.push(w);}}};a.define.amd=a.define.emd=a.define.eamd={};
if(window){window.define=a.define;}a.load([o()]);})(this.ems);