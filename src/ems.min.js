/**
 * EMS(IMP) v0.2.2
 * Easy Module System: 简洁、易用的模块系统
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/ems
 *
 *
 * ***********************< EMS >************************
 *
 * ems 全称为 "Easy Module System" 他还有一个别名叫: "imp";
 * ems 作为 "EMD" 的实现标准范本; 完全符合 "EMD规范";
 *
 *
 * *********************< EMD 规范 >**********************
 *
 * EMD 全称为 "Easy Module Definition"
 *
 * 规范定义:
 * define([deps...<require>,<exports>,<module>]function(... <require>,<exports>,<module>){
 *
 * 	    //动态导入依赖 (AMD)
 * 		require([deps...],function(...){
 *
 * 		});
 *
 * 		//标准导出 (AMD)
 * 		return {
 * 			say:function(){}
 * 		};
 *
 *      //类CommonJS导入 (CommonJS)
 *      var a=require('a');
 *
 *      //类CommonJS导出 (CommonJS)
 *      exports.say=function(){};
 * });
 *
 *
 * ******************************************************
 *
 */
this.ems=this.imp={};(function(b){var k=function(t,s){if(!t||!s){return;}if((t instanceof Array)||(t.length&&t[0])){var u=t.length;for(var r=0;r<u;r++){if(t[r]){var q=s.call(t[r],r);
if(q){break;}}}}else{for(var r in t){if(t[r]){var q=s.call(t[r],r);if(q){break;}}}}};var a=function(q){var r=document.createElement("script");r.src=q;r.async=true;
r.defer=true;r.type="text/javascript";return r;};var n=function(r){var q=document.createElement("link");q.href=r;q.type="text/css";q.rel="stylesheet";return q;
};var e=function(r){var q=document.getElementsByTagName("head");q=q?q[0]:document.body;q.appendChild(r);};var j=function(r,q,s){if(r.addEventListener){r.addEventListener(q,s);
}else{if(r.attachEvent){r.attachEvent("on"+q,s);}}};var l=function(q,s){if(!q||!s){return;}var r=q.attachEvent?"readystatechange":"load";j(q,r,function(){var t=q.readyState||"loaded";
if(t=="loaded"||t=="interactive"||t=="complete"){s.apply(q,arguments);}});};var g={require:{loaded:true,exports:"require"},exports:{loaded:true,exports:"exports"},moeule:{loaded:true,exports:"moeule"}};
b.moduleTable=g;var i=function(q,r){if(g[q]==null){g[q]=new h(q);}if(g[q].loaded&&r){r(g[q].exports);return g[q].exports;}if(g[q].loadCallbacks!=null){g[q].loadCallbacks.push(r);
return;}g[q].loadCallbacks=[];g[q].loadCallbacks.push(r);g[q].element=q.indexOf(".css")>0?n(q):a(q);l(g[q].element,function(){var s=o.shift()||{};g[q].deps=s.moduleDeps;
g[q].declare=s.moduleDeclare;s=null;g[q].require(g[q].deps,function(){if(g[q].declare){var u=[];for(var v=0;v<arguments.length;v++){if(arguments[v]=="require"){arguments[v]=g[q].require;
}if(arguments[v]=="exports"){arguments[v]=g[q].exports;}if(arguments[v]=="module"){arguments[v]=g[q].module;}u.push(arguments[v]);}var t=g[q].declare.apply(g[q],u);
g[q].exports=t||g[q].exports;}k(g[q].loadCallbacks,function(){this(g[q].exports);});g[q].loaded=true;g[q].loadCallbacks=null;});});e(g[q].element);};b.load=function(r,t){var s=window||{};
var q=0;if(r&&r.length>0){k(r,function(){i(this,function(){q+=1;if(q>=r.length){if(t){s=c(r);t.apply(s,s);}}});});}else{t.apply(s,s);}return s;};var c=function(q){var r=[];
k(q,function(){if(g[this]){r.push(g[this].exports);}});return r;};b.config=function(q){q=q||{};q.alias=q.alias||{};k(q.alias,function(r){d[r]=this;});};
var d={};var m=function(r,t){if(r.indexOf("http://")==0||r.indexOf("https://")==0||r.indexOf("/")==0||r=="require"||r=="exports"||r=="module"){return r;
}var q=r.split("/");var s=t.substring(0,t.lastIndexOf("/")).split("/");k(q,function(){if(this==".."){s.pop();}else{if(this=="."){}else{s.push(this);}}});
return s.join("/");};var p=function(s,r){if((typeof s)=="string"){s=[s];}var q=[];k(s,function(){var t=d[this]||this;q.push(m(t,r));});return q;};var h=function(q){var q=this.uri=this.id=q||"/";
this.resovleUri=function(r){return m(r,q);};this.require=function(t,u){var s=p(t,q);var r=b.load(s,u);return r&&r.length==1?r[0]:r;};this.exports={};this.declare=null;
this.deps=null;this.loaded=false;};var o=[];b.define=function(r,q){if(r&&q&&(typeof q=="function")){o.push({moduleDeps:r,moduleDeclare:q});}else{if(r&&!q&&(typeof r=="function")){o.push({moduleDeclare:r});
}else{if(r&&!q&&(typeof r!="function")){o.push({moduleDeclare:function(){return r;}});}}}};b.define.amd=b.define.emd=b.define.eamd={};var f=function(){var q=document.getElementsByTagName("script");
var r="";k(q,function(){var s=this.getAttribute("data-main");if(s){r=s;return true;}});return r;};if(window){window.define=b.define;}b.load([f()]);})(this.ems);
