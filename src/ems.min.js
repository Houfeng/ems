/**
 * EMS(IMP) v0.6.0
 * Easy Module System: 简洁、易用的模块系统
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/ems
 *
 * ***********************< EMS >************************
 *
 * ems 全称为 "Easy Module System" 他还有一个别名叫: "imp";
 * ems 作为 "EMD" 的实现标准范本; 完全符合 "EMD规范";
 *
 * *********************< EMD 规范 >**********************
 *
 * EMD 全称为 "Easy Module Definition"
 *
 * 规范定义:
 * define([deps...<require>,<exports>,<module>],function(... <require>,<exports>,<module>){
 *
 * 	    //动态导入依赖 (AMD)
 * 		require([deps...],function(...){
 *
 * 		});
 *
 * 		//标准导出 (AMD)
 * 		return {
 * 			say:function(){}
 * 		};
 *
 *      //类CommonJS导入 (CommonJS)
 *      var a=require('a');
 *
 *      //类CommonJS导出 (CommonJS)
 *      exports.say=function(){};
 * });
 *
 * ******************************************************
 */
(function(a){var y=function(F){return(F===null)||(typeof F==="undefined");};var s=function(F){return(F instanceof Array)||(F&&F.length&&F[0]);};var d=function(J,I){if(!J||!I){return;
}if(s(J)){var K=J.length;for(var H=0;H<K;H++){if(y(J[H])){continue;}var F=I.call(J[H],H,J[H]);if(!y(F)){return F;}}}else{for(var G in J){if(y(J[G])){continue;
}var F=I.call(J[G],G,J[G]);if(!y(F)){return F;}}}};var k=function(G,F){return G&&F&&G.indexOf(F)==0;};var n=function(G,F){return G&&F&&G.indexOf(F)>-1;
};var z=function(F){var G=document.createElement("script");G.src=F;G.async=true;G.defer=true;G.type="text/javascript";return G;};var c=function(G){var F=document.createElement("link");
F.href=G;F.type="text/css";F.rel="stylesheet";return F;};var f=function(){return document.getElementsByTagName("script");};var v=function(){var F=f();return d(F,function(){return this.getAttribute("data-main");
});};var B=function(){var F=f();return d(F,function(){if(this.readyState==="interactive"){return this;}});};var g=null;var r=function(F){if(!g){g=document.getElementsByTagName("head");
g=g&&g[0]?g[0]:document.body;g=g||g.parent;}g.appendChild(F);};var e=function(G,F,H){if(G.addEventListener){G.addEventListener(F,H);}else{if(G.attachEvent){G.attachEvent("on"+F,H);
}}};var m=function(F,H){if(!F||!H){return;}if((typeof HTMLLinkElement!=="undefined")&&(F instanceof HTMLLinkElement)){H.apply(F,[{}]);return;}var G=F.attachEvent?"readystatechange":"load";
e(F,G,function(){var I=F.readyState||"loaded";if(I=="loaded"||I=="interactive"||I=="complete"){H.apply(F,arguments||[]);}});};var l={require:{loaded:true,exports:"require"},exports:{loaded:true,exports:"exports"},module:{loaded:true,exports:"module"}};
var b=function(G,F){if(!l[G]){return;}l[G].loading=true;l[G].deps=F.moduleDeps;l[G].declare=F.moduleDeclare;l[G].declareDeps=F.declareDeps;F=null;l[G].require(l[G].deps,function(){var H=arguments;
setTimeout(function(){l[G].require(l[G].declareDeps,function(){setTimeout(function(){if(l[G].declare){var J=[];for(var K=0;K<H.length;K++){if(H[K]=="require"){H[K]=l[G].require;
}if(H[K]=="exports"){H[K]=l[G].exports;}if(H[K]=="module"){H[K]=l[G];}J.push(H[K]);}J.push(l[G].require);J.push(l[G].exports);J.push(l[G]);var I=l[G].declare.apply(l[G],J);
l[G].exports=I||l[G].exports;}d(l[G].loadCallbacks,function(){this(l[G].exports);});if(a.onLoad){a.onLoad(l[G]);}l[G].loaded=true;l[G].loadCallbacks=null;
},0);});},0);});};var E=function(F,G){if(l[F]==null){l[F]=new q(F);}if(l[F].loaded&&G){G(l[F].exports);return l[F].exports;}if(l[F].loadCallbacks!=null){l[F].loadCallbacks.push(G);
return;}l[F].loadCallbacks=[];l[F].loadCallbacks.push(G);l[F].element=n(F,".css")?c(F):z(F);m(l[F].element,function(){if(!l[F].loaded&&!l[F].loading){var H=p.shift()||{};
b(F,H);}});r(l[F].element);};a.load=function(J,K,I){var G=i(J,I);var H=[];var F=0;if(G&&G.length>0){d(G,function(L,M){E(M,function(){F+=1;if(F<G.length){return;
}H=D(G)||H;if(K){K.apply(H,H);}});});}else{if(K){K.apply(H,H);}}return H&&H.length==1?H[0]:H;};a.unload=function(H,G){var F=i(H,G);d(F,function(I,J){if(l[J]){l[J].element.parentNode.removeChild(l[J].element);
l[J].exports=null;l[J].loading=null;l[J].deps=null;l[J].declare=null;l[J].declareDeps=null;l[J].element=null;l[J]=null;}});};var D=function(F){var G=[];
d(F,function(H,I){if(l[I]){G.push(l[I].exports);}});return G;};var j=function(F){return(F=="require"||F=="exports"||F=="module");};var h=function(I,K){if(!I||!K||k(I,"http://")||k(I,"https://")||k(I,"file://")||k(I,"/")||j(I)){return I;
}K=K.split("?")[0].split("#")[0];var H=K.substring(0,K.lastIndexOf("/"));var F=I.split("#")[0].split("/");var G=I.split("#")[1];var J=H.length>0?H.split("/"):[];
d(F,function(M,L){if(L==".."){J.pop();}else{if(L=="."){}else{J.push(L);}}});return J.join("/")+(G?"#"+G:"");};var w=function(F){if(j(F)){return F;}var G=F.substring(F.lastIndexOf("/"),F.length);
if(!n(G,"?")&&!n(G,"#")&&!n(G,".")){F+=(o||".js");}return F;};var A=function(F){if(F==null){return[];}if((typeof F)=="string"){F=[F];}return F;};var i=function(H,G){G=G||location.href;
H=A(H);var F=[];d(H,function(I,K){var J=t[K]||K;J=w(J);J=h(J,G);F.push(J);});return F;};var q=function(G){var F=this.uri=this.id=G||"/";this.resovleUri=function(H,I){return h(H,I||F);
};this.require=function(H,I){return a.load(H,I,G);};this.unrequire=function(H){return a.unload(H,G);};this.exports={};this.declare=null;this.deps=null;
this.loaded=false;};var p=[];var u=function(I,H,F){var G=null;if(H&&F){G={moduleDeps:H,moduleDeclare:F};}else{if(I&&H){G={moduleDeps:I,moduleDeclare:H};
}else{if(I&&F){G={moduleDeps:H,moduleDeclare:F};}else{if(I){G={moduleDeclare:I};}}}}return G;};var C=function(H){var F=[];var I=/require\s*\(\s*[\"|\'](.+?)[\"|\']\s*\)\s*[;|,|\n|\}|\{|\[|\]]/gm;
var G=null;while(G=I.exec(H)){if(G&&G[1]&&!n(G[1],'"')&&!n(G[1],"'")){F.push(G[1]);}}return F;};a.define=function(L,K,G){var I=u(L,K,G);if(I){if(typeof I.moduleDeclare!="function"){var M=I.moduleDeclare;
I.moduleDeclare=function(){return M;};}var H=C(I.moduleDeclare.toString());if(H&&H.length>0){I.declareDeps=H;}var F=B();if(F){var J=F.getAttribute("src");
b(J,I);}else{p.push(I);}}};a.config=function(F){F=F||{};F.alias=F.alias||{};d(F.alias,function(G,H){t[G]=H;});o=o||F.extension;};var t={};var o=".js";a.define.amd=a.define.emd=a.define.eamd={};
if(window){window.define=a.define;}var x=v();if(x&&x!=""){a.load(x);}})(this.ems=this.imp={});